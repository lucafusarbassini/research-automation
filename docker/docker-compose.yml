version: '3.8'
services:
  research:
    build: .
    volumes:
      - ${PROJECT_PATH}:/workspace:rw          # Project files
      - ${REFERENCE_PATH}:/reference:ro        # Papers, code (read-only)
      - ${OUTPUTS_PATH}:/outputs:rw            # Deliverables
      - ${SECRETS_PATH}:/secrets:ro            # API keys (read-only)
      - ${SHARED_PATH}:/shared:rw              # Cross-project knowledge
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - GITHUB_TOKEN=${GITHUB_TOKEN}
    networks:
      - research-net
    deploy:
      resources:
        limits:
          cpus: '8'
          memory: 32G

networks:
  research-net:
    driver: bridge
